Условия домашки
В этой домашней работе мы покроем отдельные классы в нашем приложении тестами с использованием Mockito и JUnit.

Данная работа выполняется в новой ветке старого проекта.

Шаг 1. Тестирование сервиса поиска
Продумайте и разработайте несколько сценариев для проверки
SearchService
и
StorageService
в этом тесте. Используйте при тестировании моки.

Варианты сценариев
Поиск в случае отсутствия объектов в
StorageService
.
Поиск в случае, если объекты в
StorageService
есть, но нет подходящего.
Поиск, когда есть подходящий объект в
StorageService
.
В процессе работы внутри тестового класса вы можете писать любые вспомогательные методы, которые посчитаете нужными. Также приветствуются дополнительные сценарии для тестов.

Шаг 2. Тестирование сервиса корзины
Сервис корзины достаточно сложен для тестирования: он использует сразу два мока —
ProductBasket
и
StorageService
.

Вам нужно проверить следующие сценарии:

Добавление несуществующего товара в корзину приводит к выбросу исключения.
Добавление существующего товара вызывает метод
addProduct
у мока
ProductBasket
.
Метод
getUserBacket
возвращает пустую корзину, если
ProductBasket
пуст.
Метод
getUserBasket
возвращает подходящую корзину, если в
ProductBasket
есть товары.
Приветствуются любые дополнительные сценарии и улучшения по коду тестов.

Для верификации вызова метода у мока можно использовать метод
Mockito verify
: baeldung.com/mockito-verify.

Чтобы корректно проверить, выбрасывает ли код исключение, достаточно использовать
Assertions.assertThrows
в который передается лямбда-выражение с тестируемым кодом: junit.org/junit5/user-guide/#writing-tests-assertions.